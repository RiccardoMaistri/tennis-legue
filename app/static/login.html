<html>
  <head>
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="" />
    <link
      rel="stylesheet"
      as="style"
      onload="this.rel='stylesheet'"
      href="https://fonts.googleapis.com/css2?display=swap&amp;family=Noto+Sans%3Awght%40400%3B500%3B700%3B900&amp;family=Plus+Jakarta+Sans%3Awght%40400%3B500%3B700%3B800"
    />

    <title>Stitch Design</title>
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64," />

    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  </head>
  <body>
    <div
      class="relative flex size-full min-h-screen flex-col bg-[#f8fcfa] justify-between group/design-root overflow-x-hidden"
      style='font-family: "Plus Jakarta Sans", "Noto Sans", sans-serif;'
    >
      <div>
        <div class="@container">
          <div class="@[480px]:px-4 @[480px]:py-3">
            <div
              class="w-full bg-center bg-no-repeat bg-cover flex flex-col justify-end overflow-hidden bg-[#f8fcfa] @[480px]:rounded-xl min-h-80"
              style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuB3lYjYv8EeuOKnZT6Izh-8SKtubRbDr26mV_mTzUyOFcPjBcp-oW9uLe_6B50kVGtHZcER1bmT07GiKkMl2fEOvYTiaoRu8ztA5kyQY4lDzX__uGqnyFHdnMp15CinUX6K0WjOVGcXDe7uaJKzBm3Rfk-oTIZFg8HfJ628-JweNbzZ5AWVQfZiXQ38GGg1vWCXfS5qZfAALELRoAONi2L8XTwAaPS-RON3M9T8io2UZbRCVa_o1TTg25mnVb7CSlTVGtq-JAAqRDE");'
            ></div>
          </div>
        </div>
        <h2 class="text-[#0c1c17] tracking-light text-[28px] font-bold leading-tight px-4 text-center pb-3 pt-5">Welcome to Tennis Tournaments</h2>
        <p class="text-[#0c1c17] text-base font-normal leading-normal pb-3 pt-1 px-4 text-center">Manage your private tennis tournaments with ease. Sign in to get started.</p>
        <div class="flex px-4 py-3 justify-center">
          <button
            id="googleSignInBtn" <!-- Added ID here -->
            class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-12 px-5 bg-[#019863] text-[#f8fcfa] gap-2 pl-5 text-base font-bold leading-normal tracking-[0.015em]"
          >
            <div class="text-[#f8fcfa]" data-icon="GoogleLogo" data-size="24px" data-weight="regular">
              <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
                <path d="M224,128a96,96,0,1,1-21.95-61.09,8,8,0,1,1-12.33,10.18A80,80,0,1,0,207.6,136H128a8,8,0,0,1,0-16h88A8,8,0,0,1,224,128Z"></path>
              </svg>
            </div>
            <span class="truncate">Sign in with Google</span>
          </button>
        </div>
      </div>
      <div>
        <footer class="flex flex-col gap-6 px-5 py-10 text-center @container"><p class="text-[#46a080] text-base font-normal leading-normal">@2024 Tennis Tournaments</p></footer>
        <div class="h-5 bg-[#f8fcfa]"></div>
      </div>
    </div>

    <script>
      console.log("Placeholder: Google Sign-In JavaScript logic would go here. This involves using the Google Identity Services library (gsi.client).");

      const googleSignInButton = document.getElementById('googleSignInBtn');
      if (googleSignInButton) {
        googleSignInButton.addEventListener('click', async (event) => {
          event.preventDefault(); // Prevent default button action
          console.log("'Sign in with Google' button clicked. Simulating login...");

          try {
            const response = await fetch('/auth/login', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
              },
              body: JSON.stringify({ token: "fake_google_token_for_testing" }),
            });

            if (response.ok) {
              const data = await response.json();
              console.log("Fake login successful. JWT received:", data);
              // Store the JWT (e.g., in localStorage)
              localStorage.setItem('tennisTournamentAppToken', data.access_token);
              console.log("Redirecting to tournaments.html...");
              window.location.href = '/static/tournaments.html'; // Make sure path is correct
            } else {
              const errorData = await response.json();
              console.error("Fake login failed:", response.status, errorData);
              alert("Fake login failed: " + (errorData.detail || "Unknown error"));
            }
          } catch (error) {
            console.error("Error during fake login:", error);
            alert("Error during fake login: " + error.message);
          }
        });
      } else {
        console.error("Could not find the Google Sign-In button by ID 'googleSignInBtn'.");
      }
    </script>
  </body>
</html>
